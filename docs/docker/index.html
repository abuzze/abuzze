<!doctype html><html lang=en dir=ltr>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="Docker Cheatsheat #  Cleanup #  Diskspace and resources used
 docker system dfThe RECLAIMABLE column shows how much diskspace can be saved by deleting unused images
The size of an image
 docker image lsThe content of a volume. This will show the mountpoint, which can be inspected with du.
 docker volume lsdocker volume inspect 69915af8ddf99Remove all containers and their volumes (works only if all containers are stopped)">
<meta name=theme-color content="#FFFFFF"><meta property="og:title" content="Docker Cheatcheet">
<meta property="og:description" content="Docker Cheatsheat #  Cleanup #  Diskspace and resources used
 docker system dfThe RECLAIMABLE column shows how much diskspace can be saved by deleting unused images
The size of an image
 docker image lsThe content of a volume. This will show the mountpoint, which can be inspected with du.
 docker volume lsdocker volume inspect 69915af8ddf99Remove all containers and their volumes (works only if all containers are stopped)">
<meta property="og:type" content="article">
<meta property="og:url" content="https://abuzze.github.io/abuzze/docs/docker/"><meta property="article:section" content="docs">
<title>Docker Cheatcheet | Memoirs of a sysadmin</title>
<link rel=manifest href=/abuzze/manifest.json>
<link rel=icon href=/abuzze/favicon.png type=image/x-icon>
<link rel=stylesheet href=/abuzze/book.min.958cea7827621d6fbcb3acf091344c3e44e3d2a9428f9c3c38bb9eb37bf8c45d.css integrity="sha256-lYzqeCdiHW+8s6zwkTRMPkTj0qlCj5w8OLues3v4xF0=" crossorigin=anonymous>
<script defer src=/abuzze/flexsearch.min.js></script>
<script defer src=/abuzze/en.search.min.0607fc6aafdf6cd13f7d036ee3b25ee746ca5b5bfa41b2849a9ec7b2537b57dc.js integrity="sha256-Bgf8aq/fbNE/fQNu47Je50bKW1v6QbKEmp7HslN7V9w=" crossorigin=anonymous></script>
</head>
<body dir=ltr>
<input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control>
<main class="container flex">
<aside class=book-menu>
<div class=book-menu-content>
<nav>
<h2 class=book-brand>
<a href=/abuzze/><span>Memoirs of a sysadmin</span>
</a>
</h2>
<div class=book-search>
<input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/>
<div class="book-search-spinner hidden"></div>
<ul id=book-search-results></ul>
</div>
<ul>
<li>
<a href=https://github.com/abuzze target=_blank rel=noopener>
Github
</a>
</li>
</ul>
<ul>
<li><a href=/abuzze/docs/>Cheatsheets</a>
<ul>
<li><a href=/abuzze/docs/cheat-sheet/>Arduino</a></li>
<li><a href=/abuzze/docs/active-directory/>Active Directory</a></li>
<li><a href=/abuzze/docs/cisco/>Cisco</a></li>
<li><a href=/abuzze/docs/docker/ class=active>Docker</a></li>
<li><a href=/abuzze/docs/git/>Git</a></li>
<li><a href=/abuzze/docs/juniper/>Juniper</a></li>
<li><a href=/abuzze/docs/k8s/>k8s</a></li>
<li><a href=/abuzze/docs/linux/>Linux</a></li>
<li><a href=/abuzze/docs/lxc/>LXC</a></li>
<li><a href=/abuzze/docs/macos/>MacOS</a></li>
<li><a href=/abuzze/docs/mongodb/>MongoDB</a></li>
<li><a href=/abuzze/docs/python/>Python</a></li>
<li><a href=/abuzze/docs/ruby-setup/>Ruby</a></li>
</ul>
</li>
<li><a href=/abuzze/posts/>Blog</a></li>
</ul>
<ul>
<li>
<a href=https://themes.gohugo.io/hugo-book/ target=_blank rel=noopener>
Hugo Themes
</a>
</li>
</ul>
</nav>
<script>(function(){var a=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>
</div>
</aside>
<div class=book-page>
<header class=book-header>
<div class="flex align-center justify-between">
<label for=menu-control>
<img src=/abuzze/svg/menu.svg class=book-icon alt=Menu>
</label>
<strong>Docker Cheatcheet</strong>
<label for=toc-control>
<img src=/abuzze/svg/toc.svg class=book-icon alt="Table of Contents">
</label>
</div>
<aside class="hidden clearfix">
<nav id=TableOfContents>
<ul>
<li><a href=#cleanup>Cleanup</a></li>
</ul>
</nav>
</aside>
</header>
<article class=markdown><h1 id=docker-cheatsheat>
Docker Cheatsheat
<a class=anchor href=#docker-cheatsheat>#</a>
</h1>
<h2 id=cleanup>
Cleanup
<a class=anchor href=#cleanup>#</a>
</h2>
<p>Diskspace and resources used</p>
<pre><code>    docker system df
</code></pre><p>The RECLAIMABLE column shows how much diskspace can be saved by deleting unused images</p>
<p>The size of an image</p>
<pre><code>    docker image ls
</code></pre><p>The content of a volume. This will show the mountpoint, which can be inspected with du.</p>
<pre><code>    docker volume ls
    docker volume inspect 69915af8ddf99
</code></pre><p>Remove all containers and their volumes (works only if all containers are stopped)</p>
<pre><code>    docker ps -a -q | xargs docker rm -v
</code></pre><p>List/remove all stopped containers</p>
<pre><code>    docker container ls --filter &quot;status=exited&quot; -aq
    docker container rm $(docker container ls --filter &quot;status=exited&quot; -aq)
</code></pre><p>Remove all dangling images</p>
<pre><code>    docker images -f dangling=true -q | xargs docker rmi
</code></pre><p>Remove docker volumes</p>
<pre><code>    docker volume rm $(docker volume ls -q)
</code></pre><p>Remove networks</p>
<pre><code>    docker network rm &lt;NETWORK_ID&gt;
</code></pre><p>Prune all unused resources, exept volumes</p>
<pre><code>WARNING! This will remove:
- all stopped containers
- all networks not used by at least one container
- all dangling images
- all dangling build cache
</code></pre>
<pre><code>docker system prune
</code></pre><p>Running a cleanup job is possible, via a container: <a href=https://github.com/meltwater/docker-cleanup>https://github.com/meltwater/docker-cleanup</a></p>
</article>
<footer class=book-footer>
<div class="flex flex-wrap justify-between">
</div>
<script>(function(){function a(c){const a=window.getSelection(),b=document.createRange();b.selectNodeContents(c),a.removeAllRanges(),a.addRange(b)}document.querySelectorAll("pre code").forEach(b=>{b.addEventListener("click",function(c){a(b.parentElement),navigator.clipboard&&navigator.clipboard.writeText(b.parentElement.textContent)})})})()</script>
</footer>
<div class=book-comments>
</div>
<label for=menu-control class="hidden book-menu-overlay"></label>
</div>
<aside class=book-toc>
<div class=book-toc-content>
<nav id=TableOfContents>
<ul>
<li><a href=#cleanup>Cleanup</a></li>
</ul>
</nav>
</div>
</aside>
</main>
</body>
</html>